local status_ok, db = pcall(require, "dashboard")
if not status_ok then
	return
end

vim.g.dashboard_default_executive = "telescope"

local configDir = vim.fn.stdpath('config')
local dataDir = vim.fn.stdpath('data').."/site"
local dir = os.getenv("PVIM")
if dir then
  configDir = dir.."/config"
  dataDir = dir
end

db.custom_center = {
	{ icon = "  ", desc = "Jump to File                ", action = "Telescope find_files" },
	{ icon = "  ", desc = "Recent Files                ", action = "Telescope oldfiles" },
	{ icon = "  ", desc = "Open Neogit                 ", action = "Neogit" },
	{ icon = "  ", desc = "Search Text                 ", action = "Telescope grep_string" },
	{ icon = "  ", desc = "New File                    ", action = "DashboardNewFile" },
	{ icon = "  ", desc = "Edit Config                 ", action = function ()
    vim.cmd("cd"..configDir)
    vim.cmd("Telescope find_files")
  end},
	{ icon = "  ", desc = "Update Config               ", action = function ()
    print('Pulling config')
    print(vim.fn.system('git --git-dir='..configDir..'/.git --work-tree='..configDir..' pull'))
    dofile(configDir..'/lua/packer-init.lua')
    vim.cmd('PackerSync')
    print('Restart Neovim to see any changes')
  end},
  --   
}

local function pluginCount()
	local i, popen = 0, io.popen
	for _ in popen("ls "..dataDir.."/pack/packer/start/"):lines() do
		i = i + 1
	end
	for _ in popen("ls "..dataDir.."/pack/packer/opt/"):lines() do
		i = i + 1
	end
	return i
end

db.custom_footer = { "Neovim loaded with " .. pluginCount() .. " plugins" }
--
local logos = {
  {
    [[]],
    [[]],
    [[██████╗ ███╗   ██╗██╗   ██╗██╗███╗   ███╗]],
    [[██╔══██╗████╗  ██║██║   ██║██║████╗ ████║]],
    [[██████╔╝██╔██╗ ██║██║   ██║██║██╔████╔██║]],
    [[██╔══██╗██║╚██╗██║╚██╗ ██╔╝██║██║╚██╔╝██║]],
    [[██║  ██║██║ ╚████║ ╚████╔╝ ██║██║ ╚═╝ ██║]],
    [[╚═╝  ╚═╝╚═╝  ╚═══╝  ╚═══╝  ╚═╝╚═╝     ╚═╝]],
    [[]],
    [[]],
  },
  {
    [[]],
    [[]],
    [[    ____  _   __      _         ]],
    [[   / __ \/ | / /   __(_)___ ___ ]],
    [[  / /_/ /  |/ / | / / / __ `__ \]],
    [[ / _, _/ /|  /| |/ / / / / / / /]],
    [[/_/ |_/_/ |_/ |___/_/_/ /_/ /_/ ]],
    [[]],
    [[]],
    [[]],
  },
  {
    [[]],
    [[]],
    [[  ____  _   _       _           ]],
    [[ |  _ \| \ | |_   _(_)_ __ ___  ]],
    [[ | |_) |  \| \ \ / / | '_ ` _ \ ]],
    [[ |  _ <| |\  |\ V /| | | | | | |]],
    [[ |_| \_\_| \_| \_/ |_|_| |_| |_|]],
    [[]],
    [[]],
    [[]],
  },
  {
    [[]],
    [[]],
    [[]],
    [[I <3 Neovim]],
    [[]],
    [[]],
    [[]],
    [[]],
    [[]],
    [[]],
  },
  {
    [[                                    ▄▄                   ]],
    [[▀███▀▀▀██▄ ▀███▄   ▀███▀            ██                   ]],
    [[  ██   ▀██▄  ███▄    █                                   ]],
    [[  ██   ▄██   █ ███   █ ▀██▀   ▀██▀▀███ ▀████████▄█████▄  ]],
    [[  ███████    █  ▀██▄ █   ██   ▄█    ██   ██    ██    ██  ]],
    [[  ██  ██▄    █   ▀██▄█    ██ ▄█     ██   ██    ██    ██  ]],
    [[  ██   ▀██▄  █     ███     ███      ██   ██    ██    ██  ]],
    [[▄████▄ ▄███▄███▄    ██      █     ▄████▄████  ████  ████▄]],
    [[]],
    [[]],
  },
  {
    [[░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░]],
    [[░        ░░░░░    ░░░░░   ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░]],
    [[▒   ▒▒▒▒   ▒▒▒  ▒   ▒▒▒   ▒▒▒▒▒▒▒▒▒▒▒▒▒▒  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒]],
    [[▒   ▒▒▒▒   ▒▒▒   ▒   ▒▒   ▒   ▒▒▒▒▒   ▒▒▒▒▒    ▒   ▒   ▒]],
    [[▓  ▓   ▓▓▓▓▓▓▓   ▓▓   ▓   ▓▓   ▓▓▓   ▓▓   ▓▓   ▓▓  ▓▓  ▓]],
    [[▓   ▓▓   ▓▓▓▓▓   ▓▓▓  ▓   ▓▓▓   ▓   ▓▓▓   ▓▓   ▓▓  ▓▓  ▓]],
    [[▓   ▓▓▓▓   ▓▓▓   ▓▓▓▓  ▓  ▓▓▓▓     ▓▓▓▓   ▓▓   ▓▓  ▓▓  ▓]],
    [[█   ██████   █   ██████   █████   █████   █    ██  ██  █]],
    [[████████████████████████████████████████████████████████]],
    [[]],
    [[]],
  },
  {
    [[ ██▀███   ███▄    █  ██▒   █▓  ██▓ ███▄ ▄███▓]],
    [[▓██ ▒ ██▒ ██ ▀█   █ ▓██░   █▒▒▓██▒▓██▒▀█▀ ██▒]],
    [[▓██ ░▄█ ▒▓██  ▀█ ██▒ ▓██  █▒░▒▒██▒▓██    ▓██░]],
    [[▒██▀▀█▄  ▓██▒  ▐▌██▒  ▒██ █░░░░██░▒██    ▒██ ]],
    [[░██▓ ▒██▒▒██░   ▓██░   ▒▀█░  ░░██░▒██▒   ░██▒]],
    [[░ ▒▓ ░▒▓░░ ▒░   ▒ ▒    ░ ▐░   ░▓  ░ ▒░   ░  ░]],
    [[  ░▒ ░ ▒░░ ░░   ░ ▒░   ░ ░░  ░ ▒ ░░  ░      ░]],
    [[   ░   ░    ░   ░ ░       ░  ░ ▒ ░░      ░   ]],
    [[   ░              ░       ░    ░         ░   ]],
    [[]],
    [[]],
  },
  {
    [[ _______  __    __           __              ]],
    [[|       \|  \  |  \         |  \             ]],
    [[| ▓▓▓▓▓▓▓\ ▓▓\ | ▓▓__     __ \▓▓______ ____  ]],
    [[| ▓▓__| ▓▓ ▓▓▓\| ▓▓  \   /  \  \      \    \ ]],
    [[| ▓▓    ▓▓ ▓▓▓▓\ ▓▓\▓▓\ /  ▓▓ ▓▓ ▓▓▓▓▓▓\▓▓▓▓\]],
    [[| ▓▓▓▓▓▓▓\ ▓▓\▓▓ ▓▓ \▓▓\  ▓▓| ▓▓ ▓▓ | ▓▓ | ▓▓]],
    [[| ▓▓  | ▓▓ ▓▓ \▓▓▓▓  \▓▓ ▓▓ | ▓▓ ▓▓ | ▓▓ | ▓▓]],
    [[| ▓▓  | ▓▓ ▓▓  \▓▓▓   \▓▓▓  | ▓▓ ▓▓ | ▓▓ | ▓▓]],
    [[ \▓▓   \▓▓\▓▓   \▓▓    \▓    \▓▓\▓▓  \▓▓  \▓▓]],
    [[]],
    [[]],
  },
  {
    [[ █▒▒▒▒▒▒▒     █▒▒▒     █▒▒                              ]],
    [[ █▒▒    █▒▒   █▒ █▒▒   █▒▒              █▒              ]],
    [[ █▒▒    █▒▒   █▒▒ █▒▒  █▒▒ █▒▒     █▒▒     █▒▒▒ █▒▒ █▒▒ ]],
    [[ █▒ █▒▒       █▒▒  █▒▒ █▒▒  █▒▒   █▒▒  █▒▒  █▒▒  █▒  █▒▒]],
    [[ █▒▒  █▒▒     █▒▒   █▒ █▒▒   █▒▒ █▒▒   █▒▒  █▒▒  █▒  █▒▒]],
    [[ █▒▒    █▒▒   █▒▒    █▒ ▒▒    █▒█▒▒    █▒▒  █▒▒  █▒  █▒▒]],
    [[ █▒▒      █▒▒ █▒▒      █▒▒     █▒▒     █▒▒ █▒▒▒  █▒  █▒▒]],
    [[]],
    [[]],
  },
  {
    [[]],
    [[]],
    [[░░░░░░  ░░░    ░░ ░░    ░░ ░░ ░░░    ░░░]],
    [[▒▒   ▒▒ ▒▒▒▒   ▒▒ ▒▒    ▒▒ ▒▒ ▒▒▒▒  ▒▒▒▒]],
    [[▒▒▒▒▒▒  ▒▒ ▒▒  ▒▒ ▒▒    ▒▒ ▒▒ ▒▒ ▒▒▒▒ ▒▒]],
    [[▓▓   ▓▓ ▓▓  ▓▓ ▓▓  ▓▓  ▓▓  ▓▓ ▓▓  ▓▓  ▓▓]],
    [[██   ██ ██   ████   ████   ██ ██      ██]],
    [[]],
    [[]],
    [[]],
  },
  {
    [[RRRRRRRRRRRRRRRRR   NNNNNNNN        NNNNNNNN                           iiii                          ]],
    [[R::::::::::::::::R  N:::::::N       N::::::N                          i::::i                         ]],
    [[R::::::RRRRRR:::::R N::::::::N      N::::::N                           iiii                          ]],
    [[RR:::::R     R:::::RN:::::::::N     N::::::N                                                         ]],
    [[  R::::R     R:::::RN::::::::::N    N::::::Nvvvvvvv           vvvvvvviiiiiii    mmmmmmm    mmmmmmm   ]],
    [[  R::::R     R:::::RN:::::::::::N   N::::::N v:::::v         v:::::v i:::::i  mm:::::::m  m:::::::mm ]],
    [[  R::::RRRRRR:::::R N:::::::N::::N  N::::::N  v:::::v       v:::::v   i::::i m::::::::::mm::::::::::m]],
    [[  R:::::::::::::RR  N::::::N N::::N N::::::N   v:::::v     v:::::v    i::::i m::::::::::::::::::::::m]],
    [[  R::::RRRRRR:::::R N::::::N  N::::N:::::::N    v:::::v   v:::::v     i::::i m:::::mmm::::::mmm:::::m]],
    [[  R::::R     R:::::RN::::::N   N:::::::::::N     v:::::v v:::::v      i::::i m::::m   m::::m   m::::m]],
    [[  R::::R     R:::::RN::::::N    N::::::::::N      v:::::v:::::v       i::::i m::::m   m::::m   m::::m]],
    [[  R::::R     R:::::RN::::::N     N:::::::::N       v:::::::::v        i::::i m::::m   m::::m   m::::m]],
    [[RR:::::R     R:::::RN::::::N      N::::::::N        v:::::::v        i::::::im::::m   m::::m   m::::m]],
    [[R::::::R     R:::::RN::::::N       N:::::::N         v:::::v         i::::::im::::m   m::::m   m::::m]],
    [[R::::::R     R:::::RN::::::N        N::::::N          v:::v          i::::::im::::m   m::::m   m::::m]],
    [[RRRRRRRR     RRRRRRRNNNNNNNN         NNNNNNN           vvv           iiiiiiiimmmmmm   mmmmmm   mmmmmm]],
    [[]],
    [[]],
  },
  {
    [[ ▒▒▒▒▒▒▒   ▒▒▒▒     ▒▒          ▒▒            ]],
    [[/▒▒////▒▒ /▒▒/▒▒   /▒▒         //             ]],
    [[/▒▒   /▒▒ /▒▒//▒▒  /▒▒ ▒▒    ▒▒ ▒▒ ▒▒▒▒▒▒▒▒▒▒ ]],
    [[/▒▒▒▒▒▒▒  /▒▒ //▒▒ /▒▒/▒▒   /▒▒/▒▒//▒▒//▒▒//▒▒]],
    [[/▒▒///▒▒  /▒▒  //▒▒/▒▒//▒▒ /▒▒ /▒▒ /▒▒ /▒▒ /▒▒]],
    [[/▒▒  //▒▒ /▒▒   //▒▒▒▒ //▒▒▒▒  /▒▒ /▒▒ /▒▒ /▒▒]],
    [[/▒▒   //▒▒/▒▒    //▒▒▒  //▒▒   /▒▒ ▒▒▒ /▒▒ /▒▒]],
    [[//     // //      ///    //    // ///  //  // ]],
    [[]],
    [[]],
  },
  {
    [[]],
    [[]],
    [[    _/_/_/    _/      _/              _/              ]],
    [[   _/    _/  _/_/    _/  _/      _/      _/_/_/  _/_/ ]],
    [[  _/_/_/    _/  _/  _/  _/      _/  _/  _/    _/    _/]],
    [[ _/    _/  _/    _/_/    _/  _/    _/  _/    _/    _/ ]],
    [[_/    _/  _/      _/      _/      _/  _/    _/    _/  ]],
    [[]],
    [[]],
    [[]],
  },
  {
    [[RRRRRRRR.  NNNN    NNN          .i.              ]],
    [[RRR   RRRR NNNNN   NNN          'i'              ]],
    [[RRR    RRR NNNNNN  NNN                           ]],
    [[RRR   RRRR NNNNNNN NNN vvv  vvv iii mmmmmm.mmmm. ]],
    [[RRRRRRRR"  NNN NNNNNNN vvv  vvv iii mmm "mmm "mmm]],
    [[RRR RRRR   NNN  NNNNNN vvv  vvv iii mmm  mmm  mmm]],
    [[RRR  RRRR  NNN   NNNNN  vvvvvv  iii mmm  mmm  mmm]],
    [[RRR   RRRR NNN    NNNN   vvvv   iii mmm  mmm  mmm]],
    [[]],
    [[]],
  },
  {
    [[ ▓▓▓▓▓▓▓   ▓▓▓▓     ▓▓          ▓▓            ]],
    [[/▓▓////▓▓ /▓▓/▓▓   /▓▓         //             ]],
    [[/▓▓   /▓▓ /▓▓//▓▓  /▓▓ ▓▓    ▓▓ ▓▓ ▓▓▓▓▓▓▓▓▓▓ ]],
    [[/▓▓▓▓▓▓▓  /▓▓ //▓▓ /▓▓/▓▓   /▓▓/▓▓//▓▓//▓▓//▓▓]],
    [[/▓▓///▓▓  /▓▓  //▓▓/▓▓//▓▓ /▓▓ /▓▓ /▓▓ /▓▓ /▓▓]],
    [[/▓▓  //▓▓ /▓▓   //▓▓▓▓ //▓▓▓▓  /▓▓ /▓▓ /▓▓ /▓▓]],
    [[/▓▓   //▓▓/▓▓    //▓▓▓  //▓▓   /▓▓ ▓▓▓ /▓▓ /▓▓]],
    [[//     // //      ///    //    // ///  //  // ]],
    [[]],
    [[]],
  },
  {
    [[]],
    [[.:::::::    .:::     .::                           ]],
    [[.::    .::  .: .::   .::            .:             ]],
    [[.::    .::  .:: .::  .::.::     .::   .::: .:: .:: ]],
    [[.: .::      .::  .:: .:: .::   .:: .:: .::  .:  .::]],
    [[.::  .::    .::   .: .::  .:: .::  .:: .::  .:  .::]],
    [[.::    .::  .::    .: ::   .:.::   .:: .::  .:  .::]],
    [[.::      .::.::      .::    .::    .::.:::  .:  .::]],
    [[]],
    [[]],
  },
  {
    [[]],
    [[]],
    [[oooooooooo  oooo   oooo            o88                ]],
    [[ 888    888  8888o  88 oooo   oooo oooo  oo ooo oooo  ]],
    [[ 888oooo88   88 888o88  888   888   888   888 888 888 ]],
    [[ 888  88o    88   8888   888 888    888   888 888 888 ]],
    [[o888o  88o8 o88o    88     888     o888o o888o888o888o]],
    [[]],
    [[]],
    [[]],
  },
  {
    [[88888888ba   888b      88               88                    ]],
    [[88      "8b  8888b     88               ""                    ]],
    [[88      ,8P  88 `8b    88                                     ]],
    [[88aaaaaa8P'  88  `8b   88  8b       d8  88  88,dPYba,,adPYba, ]],
    [[88""""88'    88   `8b  88  `8b     d8'  88  88P'   "88"    "8a]],
    [[88    `8b    88    `8b 88   `8b   d8'   88  88      88      88]],
    [[88     `8b   88     `8888    `8b,d8'    88  88      88      88]],
    [[88      `8b  88      `888      "8"      88  88      88      88]],
    [[]],
    [[]],
  },
  {
    [[               #         #    \\      # ##       #]],
    [[######### ########## ##########     ##    ##     #]],
    [[#       #         #  #        #   ## #     ##   # ]],
    [[#       #      ###          ##  ##   #         #  ]],
    [[#       #   ######        ##         #       ##   ]],
    [[######### ##   #  ##    ##           #     ##     ]],
    [[#       #      #      ##             #   ##       ]],
    [[]],
    [[]],
  },
  {
    [[]],
    [[]],
    [[]],
    [[ロネヴイン]],
    [[]],
    [[]],
    [[]],
    [[]],
    [[]],
    [[]],
  },
}

math.randomseed(os.clock()*100000000000)
local s = math.random(1,#logos)
db.custom_header = logos[s]
